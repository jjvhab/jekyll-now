Swath profiles are a popular method for examining the topographical character of a region: they represent generalized profiles of a landscape section.

<!--more-->

The function swathR for the R programming language calculates the data that is necessary for the creation of a swath profile. In contrast to other solutions (e.g. the QGIS-plugin <em>swath profile</em> (Krambach 2015) or Hergarten et al. 2014), the values are extracted along a given <em>straight</em> line (<em>'baseline'</em>; see Fig. 2, black line). Thereby the function does not allow the detailed investigation of geomorphologic features like rivers. Nevertheless, we encourage users to consider the significance of the differences between a polyline and a straight line (defined by beginning and end point): in many cases the straight line (together with the right parameters) will produce a swath profile that is nearly as informative as the polyline. It always depends on the accuracy that is required in your specific case (cf. Sommerfeld 2010).

[caption id="attachment_116" align="aligncenter" width="540"]<img class=" wp-image-116 aligncenter" src="https://rasparchaeo.files.wordpress.com/2016/09/example.png?w=2048" alt="example" width="540" height="189" /> <strong>Fig. 1</strong>: Example swath profile with median (black) and quartiles 25 and 75 (grey) of elevation data (metres). The data was acquired using swathR.[/caption]

[caption id="attachment_126" align="alignright" width="164"]<img class="alignright wp-image-126" src="https://rasparchaeo.files.wordpress.com/2016/09/slice1.png?w=244" alt="slice1" width="164" height="403" /> <strong>Fig. 2</strong>: Visualization of swath-principle. The parameters of swathR change the number of and the distance between red lines.[/caption]

The function requires the following <strong>input</strong>:
<ul>
 	<li> x- and y-coordinates of beginning and end point (Fig. 2, red dots)</li>
 	<li>raster file with elevation data (or the data you want to examine)</li>
 	<li>CRS-string of the used reference system (points and raster have to be referenced in the same system)</li>
</ul>
It allows the setting of the following <strong>parameters</strong>:
<ul>
 	<li>number of lines on each side of the baseline</li>
 	<li>distance between lines</li>
 	<li>method of value extraction (see extract() function of <em>raster</em> package)</li>
</ul>
The following <strong>output</strong> is generated:
<ul>
 	<li>a matrix with the mean, median, standard deviation, minimum, maximum, quantile (25%) and quantile (75%) values along the generalized section</li>
 	<li>a <em>spLine</em>s object of the generated lines</li>
 	<li>the extracted raw data</li>
</ul>
The output generation includes all values along the generated lines. This is CPU-intensive but allows the output of the aggregated raw data for debugging and transparence.

The benefit of swathR lies in the simple and <em>on-the-fly</em> applicability. The generated information can directly be used for plotting or further calculations in R.

Nevertheless there are possible improvements for future versions:
<ul>
 	<li>polyline support</li>
 	<li>reduction of CPU usage</li>
</ul>
&nbsp;

The code is available on my <a href="https://github.com/jjvhab/swathR"><strong>GitHub</strong></a>.

&nbsp;

<hr />

<strong><em>References:</em></strong>

Hergarten, S., Robl, J., &amp; Stüwe, K. (2014). Extracting topographic swath profiles across curved geomorphic features. Earth Surface Dynamics, 2(1), 97.

Krambach, M. (2015). QGIS-Swath profile (QGIS-plugin), (see: http://krambach.de/swath-profile/index.html).

Sommerfeld, E. (2010). Einfachheit - ein Grundprinzip in den unterschiedlichsten Disziplinen? Anregungen zur interdisziplinären Diskussion. Sitzungsberichte der Leibniz-Sozietät der Wissenschaften zu Berlin, Bd, 108, 145-163.

<strong><em>Required R-packages:</em></strong>

Bivand, R., Rundel, C., Pebesma, E., &amp; Hufthammer, K. O. (2015). rgeos: Interface to Geometry Engine - Open Source (GEOS) (Version 0.3-15). Retrieved from https://cran.r-project.org/web/packages/rgeos/index.html

Hijmans, R. J., Etten, J. van, Cheng, J., Mattiuzzi, M., Sumner, M., Greenberg, J. A., … Shortridge, A. (2015). raster: Geographic Data Analysis and Modeling (Version 2.5-2). Retrieved from https://cran.r-project.org/web/packages/raster/index.html

Pebesma, E., Bivand, R., Rowlingson, B., Gomez-Rubio, V., Hijmans, R., Sumner, M., … O’Brien, J. (2015). sp: Classes and Methods for Spatial Data (Version 1.2-1). Retrieved from https://cran.r-project.org/web/packages/sp/index.html
